<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Welcome to Digital Store</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa;
        padding-top: 20px;
      }
      .container {
        width: 80%;
        margin: 0 auto;
      }
      h1,
      h2 {
        text-align: center;
        color: #333;
      }
      /* Uiverse.io Card Template Styles */
      button {
        background-color: white;
        color: black;
        border-radius: 10px;
        font-size: 17px;
        font-weight: 600;
        padding: 8px 15px;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        border: 1px solid black;
        box-shadow: 0 0 0 0 black;
      }
      button a {
        text-decoration: none;
        color: black;
      }

      button:hover {
        transform: translateY(-4px) translateX(-2px);
        box-shadow: 2px 5px 0 0 black;
      }

      button:active {
        transform: translateY(2px) translateX(1px);
        box-shadow: 0 0 0 0 black;
      }
      .card {
        width: 230px;
        height: 360px;
        background: #fff;
        border: 2px solid #323232;
        box-shadow: 4px 4px #323232;
        border-radius: 5px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        padding: 20px;
        gap: 10px;
        font-family: Arial, sans-serif;
        margin-bottom: 20px;
      }

      .card-header {
        background-color: white;
        border: 1px solid black;
        border-radius: 10px;
        color: rgb(0, 0, 0);
        padding: 10px;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
        text-align: center;
        font-size: 15px;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .card-body {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      .product-image {
        width: 100px; /* Adjust size as needed */
        height: 100px; /* Adjust size as needed */
        border-radius: 8px; /* Optional: Adding some border-radius */
        object-fit: cover;
      }

      .card-text {
        font-size: 14px;
        color: #666;
      }

      .card-price {
        font-size: 20px;
        font-weight: bold;
        color: #323232;
      }

      .card-status {
        font-size: 14px;
        font-weight: bold;
        color: #28a745; /* Green color for available status */
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- User info section -->
      <div class="user-info" th:if="${user != null}">
        <h2>User Information</h2>
        <div th:if="${#strings.equals(typeOfUser, 'buyer')}">
          <p>Buyer ID: <span th:text="${user.buyerId}">Buyer ID</span></p>
          <p>Name: <span th:text="${user.buyerName}">Buyer Name</span></p>
          <p>Email: <span th:text="${user.buyerEmail}">Buyer Email</span></p>
        </div>
        <div th:if="${#strings.equals(typeOfUser, 'seller')}">
          <p>Seller ID: <span th:text="${user.sellerId}">Seller ID</span></p>
          <p>Name: <span th:text="${user.sellerName}">Seller Name</span></p>
          <p>Email: <span th:text="${user.sellerEmail}">Seller Email</span></p>
        </div>
        <div>
          <button th:if="${#strings.equals(typeOfUser, 'buyer')}">
            <a
              th:href="@{'/profile/' + ${user.buyerId}}"
              
              >Profile</a
            >
          </button>

          <button th:if="${#strings.equals(typeOfUser, 'seller')}">
            <a
              th:href="@{'/dashboard/' + ${user.sellerId}}"
              
              >Dashboard</a
            >
          </button>
        </div>
      </div>

      <!-- Login section if user is not logged in -->
      <div class="login-section" th:if="${user == null}">
        <h2>You are not logged in</h2>
        <button>
          <a th:href="@{/login}">Login</a>
        </button>
      </div>

      <!-- Status and Product Cards -->
      <h2 class="mt-4">Product List</h2>
      <div class="row">
        <div th:each="product, iterStat : ${products}" class="col-md-3">
          <div class="card">
            <div class="card-header" th:text="${product.productName}">
              Product Name
            </div>
            <div class="card-body">
              <img
                th:if="${product.imageBase64}"
                th:src="'data:image/jpeg;base64,' + ${product.imageBase64}"
                class="product-image"
                alt="Product Image"
              />
              <p class="card-text" th:text="${product.productDescription}">
                Product Description
              </p>
              <p class="card-text">
                Price:
                <span class="card-price" th:text="${product.productPrice}"
                  >$ 0</span
                >
              </p>
              <span
                th:class="${#strings.equals(product.productStatus, 'UNSOLD') ? 'text-success font-weight-bold' : 
                 #strings.equals(product.productStatus, 'SOLD') ? 'text-danger font-weight-bold' : 
                 'text-muted'}"
                th:text="${#strings.equals(product.productStatus, 'UNSOLD') ? 'UNSOLD' : 
                #strings.equals(product.productStatus, 'SOLD') ? 'SOLD' : 
                'Unknown'}"
                >Unknown</span
              >

              <!-- <p class="card-text">Status: <span class="card-status" th:text="${product.productStatus}">Dont know</span></p> -->

              <!-- <a
                class="card-btn btn btn-primary btn-sm"
                th:href="@{'/products/order/' + ${product.productId}}"
                >Order Now</a
              > -->
              <button>
                <a th:href="@{'/products/order/' + ${product.productId}}"
                  >Order Now</a
                >
              </button>
            </div>
          </div>
          <!-- Clearfix to ensure proper layout on small screens -->
          <div
            th:if="${iterStat.count % 4 == 0}"
            class="w-100 d-none d-md-block"
          ></div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS and dependencies (not required for styling, but for interactive components if needed) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
